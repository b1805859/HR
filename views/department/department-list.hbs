<!-- Content wrapper -->
<div class="content-wrapper">
  <!-- Content -->

  <div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold mb-1"><span class="text-muted fw-light">Phòng ban /</span> Danh sách phòng ban</h4>

    <nav class="navbar bg-light mb-2">
      <div class="container-fluid">
        <button class="btn btn-success mt-3 mt-md-0" type="button">
          <a href="/api/department/formCreateDepartment" class="text-white">
            Thêm phòng ban
          </a>
        </button>
      </div>
    </nav>
    <!-- Basic Bootstrap Table -->
    <div class="card">
      <div class="table-responsive text-nowrap">
        <table class="table table-hover table-bordered">
          <thead>
            <tr>
              <th class="text-center" style="height: 30px; line-height:30px; background:#a7e0fa">Tên phòng ban</th>
              <th class="text-center" style="height: 30px; line-height:30px; background:#a7e0fa">Số điện thoại liên hệ
              </th>
              <th class="text-center" style="height: 30px; line-height:30px; background:#a7e0fa">Trạng thái</th>
              <th class="text-center" style="height: 30px; line-height:30px; background:#a7e0fa">Trưởng phòng</th>
            </tr>
          </thead>
          <tbody id="table-department" class="table-border-bottom-0">

          </tbody>
        </table>
      </div>
    </div>
    <!--/ Basic Bootstrap Table -->

    <hr class="my-4" />
    <script>
      var table_html = ""
      const table_departments = `{{departments}}`
      const table = JSON.parse(table_departments.replace(/&quot;/g, '"'));
      console.log("table", table)
      for (const department of table) {
        const { _id,
          name,
          phone,
          status,
          name_lead } = department
        table_html += "<tr>"
        table_html += ` <td class="text-center" > <a style='color: #697a8d;'
            href="/api/department/getDepartmentInformation/${this._id}">${name}</a></td>`
        table_html += `  <td class="text-center" > <a style='color: #697a8d;'
            href="/api/department/getDepartmentInformation/${this._id}">${phone}</a></td>`

        if (status == 'active') {
          table_html += `  <td class="text-center"><span class="badge bg-label-success me-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoạt động</font></font></span>
              </td>`
        }
        if (status == 'inactive') {
          table_html += `  <td class="text-center"><span class="badge bg-label-danger me-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Không hoạt động</font></font></span>
              </td>`
        }
        table_html += `  <td class="text-center"><a style='color: #697a8d;'
                  href="/api/department/getDepartmentInformation/${this._id}">${name_lead}</a>
              </td>`
        table_html += "</tr>"
      }

      $('#table-department').html(table_html)
    </script>

  </div>
  <!-- / Content -->



</div>
<!-- Content wrapper -->