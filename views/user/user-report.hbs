<!-- Content wrapper -->
<div class="content-wrapper">
  <!-- Content -->

  <div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-1 mb-3"><span class="text-muted fw-light">Chấm công /</span> Lịch sử chấm công</h4>

    <div class="row">
      <div class="col-md-12">
        <div class="card mb-4">
          <!-- Account -->
          {{!-- <div class="card-body">
            <div class="row align-items-center">
              <div class="mb-3 col-md-3">
                <label class="form-label" for="months">Tháng</label>
                <select id="months" name="months" class="select2 form-select" required>
                  {{#each months}}
                  <option value="{{this._id}}">Tháng {{this.name}}</option>
                  {{/each}}
                </select>
              </div>
              <div class="mb-3 col-md-3">
                <label class="form-label" for="year">Năm</label>
                <select id="year" name="year" class="select2 form-select" required>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                  <option value="2026">2026</option>
                  <option value="2027">2027</option>
                  <option value="2028">2028</option>
                  <option value="2029">2029</option>
                  <option value="2030">2030</option>
                </select>
              </div>
              <div class="mt-4 col-md-6">
                <div class="row align-items-center justify-content-end">
                  <div class="mb-2 col-md-2">
                    <span class="badge badge-center rounded-pill bg-danger">x</span>
                    <span>Vắng</span>
                  </div>
                  <div class="mb-2 col-md-2">
                    <span class="badge badge-center rounded-pill bg-warning">!</span>
                    <span>Trễ</span>
                  </div>
                  <div class="mb-2 col-md-3">
                    <span class="badge badge-center rounded-pill bg-success">v</span>
                    <span>Đúng giờ (08:00)</span>
                  </div>
                </div>
              </div>
            </div>
          </div> --}}
          <!-- /Account -->

          <div class="card-body">
            <div class="row align-items-center">
              <div class="mb-3 col-md-3">
                <label class="form-label" for="month">Tháng</label>
                <select id="month" name="month" class="select2 form-select" required>
                  {{#each months}}
                  <option value="{{this._id}}">Tháng {{this.name}}</option>
                  {{/each}}
                </select>
              </div>
              <div class="mb-3 col-md-3">
                <label class="form-label" for="year">Năm</label>
                <select id="year" name="year" class="select2 form-select" required>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                  <option value="2026">2026</option>
                  <option value="2027">2027</option>
                  <option value="2028">2028</option>
                  <option value="2029">2029</option>
                  <option value="2030">2030</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="mt-4 col-md-6">
                <span>Ký hiệu</span>
                <div class="mt-2 row align-items-center justify-content-start">
                  <div class="mb-2 col-md-2">
                    <span class="badge badge-center rounded-pill bg-danger">x</span>
                    <span>Vắng</span>
                  </div>
                  <div class="mb-2 col-md-2">
                    <span class="badge badge-center rounded-pill bg-warning">!</span>
                    <span>Trễ</span>
                  </div>
                  <div class="mb-2 col-md-4">
                    <span class="badge badge-center rounded-pill bg-success">v</span>
                    <span>Đúng giờ (08:00)</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Responsive Table -->
    <div id="card" class="card">
      <h1 class="text-dark text-center mt-4 mb-2"></h1>
      <div class="table-responsive text-nowrap">
        <table class="table table-bordered">
          <thead>
            <tr id="title_month" class="text-nowrap">
            </tr>
          </thead>
          <tbody id="acupuncture_user">
          </tbody>
        </table>
      </div>
    </div>
    <!--/ Responsive Table -->



    <div id="messageError" style="display: flex;flex-direction: column;align-items: center;">
      <img src="/assets/img/illustrations/no-data.png" alt="" style="
    width: 350px;
    height: 350px;
    max-width: 100%;
    max-height: 100%;
      ">
      <h4>Không tìm thấy dữ liệu!</h4>
    </div>

    <!--/ Basic Pagination -->
  </div>
  <!-- / Content -->

  <!-- Modal HTML -->
  <!-- Content wrapper -->
  <script>

    $("#card").hide()
    $("#messageError").hide()

    //event change select
    var user_encode = `{{ users }}`
    var user = JSON.parse(user_encode.replace(/&quot;/ig, '"'));
    $('#months').on('change', function () {
      socket.emit("user-report", { user: user, month_id: $('#months').val(), year: $("#year").val() })
    });

    $('#year').on('change', function () {
      socket.emit("user-report", { user: user, month_id: $('#months').val(), year: $("#year").val() })
    });

  </script>